{
  "success": true,
  "summary": {
    "datasets_tested": 3,
    "total_tests": 10,
    "passed_tests": 9,
    "failed_tests": 1,
    "success_rate": 90.0,
    "overall_success": true
  },
  "dataset_results": {
    "quick_test": {
      "preprocessing": {
        "success": true,
        "operations": {
          "qc_metrics": {
            "original_cells": 1000,
            "original_genes": 18078,
            "mt_genes_found": "0"
          },
          "normalization": {
            "status": "completed"
          },
          "highly_variable_genes": {
            "n_hvg": 2000,
            "n_top_genes_requested": 2000
          },
          "pca": {
            "n_components": 50,
            "explained_variance_ratio": 0.21686838567256927
          },
          "neighbors_umap": {
            "n_neighbors": 10,
            "umap_computed": true
          },
          "clustering": {
            "resolution": 0.4,
            "n_clusters": 8
          }
        },
        "metrics": {
          "duration_seconds": 6.951505899429321,
          "memory_used_mb": 71.28125,
          "final_shape": [
            1000,
            2000
          ]
        }
      },
      "visualization": {
        "success": true,
        "plots": {
          "umap_clustering": {
            "path": "/Users/apple/Research/SpatialTrans_MCP/chatspatial/tests/comprehensive_testing_2024/core_tools_tests/fixed_test_results/images/quick_test/quick_test_umap_clusters.png",
            "status": "success"
          },
          "spatial_clustering": {
            "path": "/Users/apple/Research/SpatialTrans_MCP/chatspatial/tests/comprehensive_testing_2024/core_tools_tests/fixed_test_results/images/quick_test/quick_test_spatial_clusters.png",
            "status": "success"
          },
          "expression_heatmap": {
            "path": "/Users/apple/Research/SpatialTrans_MCP/chatspatial/tests/comprehensive_testing_2024/core_tools_tests/fixed_test_results/images/quick_test/quick_test_expression_heatmap.png",
            "status": "success",
            "genes_plotted": 12
          },
          "qc_violins": {
            "path": "/Users/apple/Research/SpatialTrans_MCP/chatspatial/tests/comprehensive_testing_2024/core_tools_tests/fixed_test_results/images/quick_test/quick_test_qc_violins.png",
            "status": "success",
            "metrics_plotted": [
              "total_counts",
              "n_genes_by_counts",
              "pct_counts_mt"
            ]
          }
        },
        "metrics": {
          "duration_seconds": 0.7255628108978271,
          "memory_used_mb": 24.28125,
          "plots_generated": 4
        }
      },
      "differential": {
        "success": true,
        "differential": {
          "marker_genes": {
            "status": "success",
            "n_clusters": 8,
            "markers_per_cluster": {
              "0": 10,
              "1": 10,
              "2": 10,
              "3": 10,
              "4": 10,
              "5": 10,
              "6": 10,
              "7": 10
            }
          },
          "heatmap": {
            "status": "failed",
            "error": "'dict' object has no attribute 'savefig'"
          },
          "dotplot": {
            "status": "failed",
            "error": "close() argument must be a Figure, an int, a string, or None, not <class 'scanpy.plotting._dotplot.DotPlot'>"
          },
          "pairwise": {
            "status": "success",
            "comparison": "0 vs 1",
            "n_de_genes": 10,
            "top_genes": [
              "Agt",
              "Sparc",
              "Dbi",
              "Slc6a11",
              "Zcchc12",
              "Rps6",
              "Nap1l5",
              "Nrsn2",
              "Resp18",
              "Scd2"
            ],
            "top_scores": [
              14.079198837280273,
              13.469291687011719,
              13.067718505859375,
              12.969590187072754,
              12.279669761657715,
              12.030573844909668,
              11.562576293945312,
              11.40255069732666,
              11.337635040283203,
              11.13533878326416
            ]
          }
        },
        "metrics": {
          "duration_seconds": 2.041128158569336,
          "memory_used_mb": 301.671875
        }
      }
    },
    "performance": {
      "preprocessing": {
        "success": true,
        "operations": {
          "qc_metrics": {
            "original_cells": 5000,
            "original_genes": 3000,
            "mt_genes_found": "0"
          },
          "normalization": {
            "status": "completed"
          },
          "highly_variable_genes": {
            "n_hvg": 1500,
            "n_top_genes_requested": 1500
          },
          "pca": {
            "n_components": 50,
            "explained_variance_ratio": 0.01563967391848564
          },
          "neighbors_umap": {
            "n_neighbors": 15,
            "umap_computed": true
          },
          "clustering": {
            "resolution": 0.6,
            "n_clusters": 2
          }
        },
        "metrics": {
          "duration_seconds": 9.359522819519043,
          "memory_used_mb": 115.328125,
          "final_shape": [
            5000,
            1500
          ]
        }
      },
      "visualization": {
        "success": true,
        "plots": {
          "umap_clustering": {
            "path": "/Users/apple/Research/SpatialTrans_MCP/chatspatial/tests/comprehensive_testing_2024/core_tools_tests/fixed_test_results/images/performance/performance_umap_clusters.png",
            "status": "success"
          },
          "spatial_clustering": {
            "path": "/Users/apple/Research/SpatialTrans_MCP/chatspatial/tests/comprehensive_testing_2024/core_tools_tests/fixed_test_results/images/performance/performance_spatial_clusters.png",
            "status": "success"
          },
          "expression_heatmap": {
            "path": "/Users/apple/Research/SpatialTrans_MCP/chatspatial/tests/comprehensive_testing_2024/core_tools_tests/fixed_test_results/images/performance/performance_expression_heatmap.png",
            "status": "success",
            "genes_plotted": 12
          },
          "qc_violins": {
            "path": "/Users/apple/Research/SpatialTrans_MCP/chatspatial/tests/comprehensive_testing_2024/core_tools_tests/fixed_test_results/images/performance/performance_qc_violins.png",
            "status": "success",
            "metrics_plotted": [
              "total_counts",
              "n_genes_by_counts"
            ]
          }
        },
        "metrics": {
          "duration_seconds": 0.4638841152191162,
          "memory_used_mb": 2.390625,
          "plots_generated": 4
        }
      },
      "differential": {
        "success": true,
        "differential": {
          "marker_genes": {
            "status": "success",
            "n_clusters": 2,
            "markers_per_cluster": {
              "0": 10,
              "1": 10
            }
          },
          "heatmap": {
            "status": "failed",
            "error": "'dict' object has no attribute 'savefig'"
          },
          "dotplot": {
            "status": "failed",
            "error": "close() argument must be a Figure, an int, a string, or None, not <class 'scanpy.plotting._dotplot.DotPlot'>"
          },
          "pairwise": {
            "status": "success",
            "comparison": "0 vs 1",
            "n_de_genes": 10,
            "top_genes": [
              "2113",
              "1758",
              "751",
              "633",
              "1050",
              "2670",
              "268",
              "952",
              "38",
              "1586"
            ],
            "top_scores": [
              5.487069129943848,
              5.39857292175293,
              4.936594009399414,
              4.8323469161987305,
              4.75433874130249,
              4.553715229034424,
              4.4613823890686035,
              4.423898696899414,
              4.331418037414551,
              4.321963310241699
            ]
          }
        },
        "metrics": {
          "duration_seconds": 2.6524970531463623,
          "memory_used_mb": 133.859375
        }
      }
    },
    "standard": {
      "preprocessing": {
        "success": true,
        "operations": {
          "qc_metrics": {
            "original_cells": 41786,
            "original_genes": 4000,
            "mt_genes_found": "0"
          },
          "normalization": {
            "status": "completed"
          },
          "highly_variable_genes": {
            "n_hvg": 2000,
            "n_top_genes_requested": 2000
          },
          "pca": {
            "n_components": 50,
            "explained_variance_ratio": 0.06417469680309296
          },
          "neighbors_umap": {
            "n_neighbors": 15,
            "umap_computed": true
          },
          "clustering": {
            "resolution": 0.6,
            "n_clusters": 12
          }
        },
        "metrics": {
          "duration_seconds": 64.7343270778656,
          "memory_used_mb": 295.65625,
          "final_shape": [
            41786,
            2000
          ]
        }
      },
      "visualization": {
        "success": true,
        "plots": {
          "umap_clustering": {
            "path": "/Users/apple/Research/SpatialTrans_MCP/chatspatial/tests/comprehensive_testing_2024/core_tools_tests/fixed_test_results/images/standard/standard_umap_clusters.png",
            "status": "success"
          },
          "spatial_clustering": {
            "path": "/Users/apple/Research/SpatialTrans_MCP/chatspatial/tests/comprehensive_testing_2024/core_tools_tests/fixed_test_results/images/standard/standard_spatial_clusters.png",
            "status": "success"
          },
          "expression_heatmap": {
            "path": "/Users/apple/Research/SpatialTrans_MCP/chatspatial/tests/comprehensive_testing_2024/core_tools_tests/fixed_test_results/images/standard/standard_expression_heatmap.png",
            "status": "success",
            "genes_plotted": 12
          },
          "qc_violins": {
            "path": "/Users/apple/Research/SpatialTrans_MCP/chatspatial/tests/comprehensive_testing_2024/core_tools_tests/fixed_test_results/images/standard/standard_qc_violins.png",
            "status": "success",
            "metrics_plotted": [
              "total_counts",
              "n_genes_by_counts"
            ]
          }
        },
        "metrics": {
          "duration_seconds": 1.07132887840271,
          "memory_used_mb": 1.5625,
          "plots_generated": 4
        }
      },
      "differential": {
        "success": true,
        "differential": {
          "marker_genes": {
            "status": "success",
            "n_clusters": 12,
            "markers_per_cluster": {
              "0": 10,
              "1": 10,
              "2": 10,
              "3": 10,
              "4": 10,
              "5": 10,
              "6": 10,
              "7": 10,
              "8": 10,
              "9": 10,
              "10": 10,
              "11": 10
            }
          },
          "heatmap": {
            "status": "failed",
            "error": "'dict' object has no attribute 'savefig'"
          },
          "dotplot": {
            "status": "failed",
            "error": "close() argument must be a Figure, an int, a string, or None, not <class 'scanpy.plotting._dotplot.DotPlot'>"
          },
          "pairwise": {
            "status": "success",
            "comparison": "0 vs 1",
            "n_de_genes": 10,
            "top_genes": [
              "Nrgn",
              "Hpca",
              "Cplx2",
              "Cabp7",
              "Phactr1",
              "Tmsb4x",
              "Itpka",
              "Dkk3",
              "Wipf3",
              "2010300C02Rik"
            ],
            "top_scores": [
              19.85202407836914,
              19.31658935546875,
              12.990044593811035,
              7.986259460449219,
              7.339653968811035,
              4.18730354309082,
              3.6931405067443848,
              3.5739951133728027,
              3.4260189533233643,
              3.333291530609131
            ]
          }
        },
        "metrics": {
          "duration_seconds": 8.065436124801636,
          "memory_used_mb": 594.375
        }
      }
    }
  },
  "integration_results": {
    "success": false,
    "error": "Too few common genes (0) for integration"
  },
  "performance_metrics": {
    "quick_test": {
      "data_loading": {
        "duration_seconds": 0.40293407440185547,
        "memory_before_mb": 1351.625,
        "memory_after_mb": 1539.0,
        "memory_delta_mb": 187.375,
        "success": true
      },
      "preprocessing": {
        "duration_seconds": 6.951505899429321,
        "memory_before_mb": 1958.625,
        "memory_after_mb": 2029.90625,
        "memory_delta_mb": 71.28125,
        "success": true
      },
      "visualization": {
        "duration_seconds": 0.7255628108978271,
        "memory_before_mb": 2029.90625,
        "memory_after_mb": 2054.1875,
        "memory_delta_mb": 24.28125,
        "success": true
      },
      "differential": {
        "duration_seconds": 2.041128158569336,
        "memory_before_mb": 2062.140625,
        "memory_after_mb": 2363.8125,
        "memory_delta_mb": 301.671875,
        "success": true
      }
    },
    "performance": {
      "data_loading": {
        "duration_seconds": 0.0631868839263916,
        "memory_before_mb": 1539.0,
        "memory_after_mb": 1539.046875,
        "memory_delta_mb": 0.046875,
        "success": true
      },
      "preprocessing": {
        "duration_seconds": 9.359522819519043,
        "memory_before_mb": 2478.265625,
        "memory_after_mb": 2593.59375,
        "memory_delta_mb": 115.328125,
        "success": true
      },
      "visualization": {
        "duration_seconds": 0.4638841152191162,
        "memory_before_mb": 2593.59375,
        "memory_after_mb": 2595.984375,
        "memory_delta_mb": 2.390625,
        "success": true
      },
      "differential": {
        "duration_seconds": 2.6524970531463623,
        "memory_before_mb": 2595.984375,
        "memory_after_mb": 2729.84375,
        "memory_delta_mb": 133.859375,
        "success": true
      }
    },
    "standard": {
      "data_loading": {
        "duration_seconds": 0.24489307403564453,
        "memory_before_mb": 1539.046875,
        "memory_after_mb": 1820.0,
        "memory_delta_mb": 280.953125,
        "success": true
      },
      "preprocessing": {
        "duration_seconds": 64.7343270778656,
        "memory_before_mb": 2739.125,
        "memory_after_mb": 3034.78125,
        "memory_delta_mb": 295.65625,
        "success": true
      },
      "visualization": {
        "duration_seconds": 1.07132887840271,
        "memory_before_mb": 3034.78125,
        "memory_after_mb": 3036.34375,
        "memory_delta_mb": 1.5625,
        "success": true
      },
      "differential": {
        "duration_seconds": 8.065436124801636,
        "memory_before_mb": 3131.75,
        "memory_after_mb": 3726.125,
        "memory_delta_mb": 594.375,
        "success": true
      }
    }
  }
}